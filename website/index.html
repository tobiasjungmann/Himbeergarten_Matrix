<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>REST Request Trigger</title>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const submitButton = document.getElementById('submitButton');

      submitButton.addEventListener('click', function () {
        createDevice();
      });

    async function createDevice() {
      var xhr = new XMLHttpRequest();
      const data = {"state": "0"};

      token="";
      elem= "_train"
      url = "http://192.168.0.104:8123/api/states/sensor.matrix_1" + elem;
      xhr.open("Post", url, true);

      xhr.setRequestHeader("Authorization", "Bearer "+token);
      xhr.setRequestHeader('Content-Type', 'application/json');

      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            console.log("Request successful!");
          } else {
            console.error("Request failed with status: " + xhr.status);
          }
        }
      };
      xhr.send(JSON.stringify(data));
    }
  </script>
</head>
<body>

<div>
<label for="spotifySwitch">Spotify:</label>
<input type="checkbox" id="spotifySwitch">
</div>

<div>
<label for="trainSwitch">Trains:</label>
<input type="checkbox" id="trainSwitch">
</div>

<button id="submitButton">Submit</button>

</body>
</html>
